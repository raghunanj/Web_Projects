<!DOCTYPE html>
<html>
	<head>
		<style>
			.can1
			{
				border : 1px solid;
				height : 400px;
				width : 600px;
				position : absolute;
				top : 50px;
				left : 350px;
			}
		</style>
		<script>
			window.onload = function()
			{
				can = document.getElementById("can1");
				ctx = can.getContext("2d");
				x1 = 5
				y1 = 75
				dx1 = 5
				dy1 = 5
				
				x2 = 75
				y2 = 5
				dx2 = 5
				dy2 = 5
			}
			function bounceBall1()
			{
				ctx.clearRect(0, 0, 400, 600)
				ctx.beginPath();
				ctx.fillStyle = "blue"
				ctx.arc(x1, y1, 5, 0, 2 * Math.PI)
				ctx.closePath
				ctx.fill();
				if( x1 < 5 || x1 > 295) 
				{
					dx1 = -dx1;
				}
				if( y1 < 5 || y1 > 145)
				{
					dy1 = -dy1;
				}
				x1 += dx1; 
				y1 += dy1;
				//console.log(can.height + " : " + can.width);
			}
			
			function bounceBall2()
			{
				ctx.beginPath();
				ctx.fillStyle = "red"
				ctx.arc(x2, y2, 5, 0, 2 * Math.PI)
				ctx.closePath
				ctx.fill();
				if( x2 < 5 || x2 > 295) 
				{
					dx2 = -dx2;
				}
				if( y2 < 5 || y2 > 145)
				{
					dy2 = -dy2;
				}
				if(Math.abs(x1 - x2) == 5 && Math.abs(y1 - y2) == 5)
				{
					dx1 = -dx1
					dx2 = -dx2
					dy1 = -dy1
					dy2 = -dy2
				}
				x2 += dx2; 
				y2 += dy2;
				
			}
			function calculate()
			{
				var worker = new Worker("worker.js")
				worker.onmessage = function(event)
				{
					alert(event.data);
				}
				worker.postMessage(1)
			}
			t1 = setInterval(bounceBall1, 50)
			t2 = setInterval(bounceBall2, 50)
		</script>
	</head>
	<body>
		<canvas id="can1" class="can1"></canvas>
		<button onclick="calculate()">Compute</button>
	</body>
</html>